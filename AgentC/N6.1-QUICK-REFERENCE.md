# N6.1 Workflow Architect - Quick Reference

## One-Line Summary
AI-powered workflow generator that creates n8n workflows from natural language descriptions.

## Quick Deploy
```bash
# 1. Seed persona
node /home/yb/codes/AgentX/scripts/seed-workflow-architect-persona.js

# 2. Deploy workflow
cd /home/yb/codes/AgentX && ./scripts/deploy-n8n-workflows.sh N6.1.json

# 3. Activate (replace WORKFLOW_ID)
source .env && curl -X POST -H "X-N8N-API-KEY: $N8N_API_KEY" \
  "https://n8n.specialblend.icu/api/v1/workflows/WORKFLOW_ID/activate"
```

## Quick Test
```bash
curl -X POST https://n8n.specialblend.icu/webhook/sbqc-workflow-architect \
  -H "Content-Type: application/json" \
  -d '{"description": "Create a simple echo webhook"}'
```

## Endpoints
- **Webhook**: `POST https://n8n.specialblend.icu/webhook/sbqc-workflow-architect`
- **AgentX**: `http://192.168.2.33:3080/api/chat` (persona: `sbqc_workflow_architect`)
- **n8n API**: `https://n8n.specialblend.icu/api/v1/workflows`
- **DataAPI**: `http://192.168.2.33:3003/integrations/events/n8n`

## Request Format
```json
{
  "description": "Natural language workflow description",
  "autoActivate": true
}
```

## Response Format (Success)
```json
{
  "success": true,
  "workflowName": "SBQC - N7.1 Generated Workflow",
  "workflowId": "abc123",
  "webhookUrls": ["https://n8n.specialblend.icu/webhook/..."],
  "generatedWorkflow": { /* JSON */ }
}
```

## Common Examples

### Echo Webhook
```bash
curl -X POST https://n8n.specialblend.icu/webhook/sbqc-workflow-architect \
  -H "Content-Type: application/json" \
  -d '{"description": "Create a webhook that echoes JSON back"}'
```

### AI Query Handler
```bash
curl -X POST https://n8n.specialblend.icu/webhook/sbqc-workflow-architect \
  -H "Content-Type: application/json" \
  -d '{"description": "Create a webhook that accepts a message, sends it to AgentX with default_chat persona, and returns the AI response"}'
```

### Scheduled Task
```bash
curl -X POST https://n8n.specialblend.icu/webhook/sbqc-workflow-architect \
  -H "Content-Type: application/json" \
  -d '{"description": "Create a workflow that runs every hour, fetches system health from DataAPI, and logs results"}'
```

## Files
- **Workflow**: `/home/yb/codes/AgentX/AgentC/N6.1.json`
- **Persona**: `/home/yb/codes/AgentX/scripts/seed-workflow-architect-persona.js`
- **Docs**: `/home/yb/codes/AgentX/AgentC/N6.1-README.md`
- **Deploy Guide**: `/home/yb/codes/AgentX/AgentC/N6.1-DEPLOYMENT-GUIDE.md`

## Troubleshooting

### Persona not found
```bash
node /home/yb/codes/AgentX/scripts/seed-workflow-architect-persona.js
```

### Webhook not registered
1. Check workflow is active in n8n UI
2. Verify webhook has `webhookId` and `httpMethod`
3. Reactivate workflow

### Validation failed
- Try simpler description
- Check `validationErrors` in response
- Review `rawResponse` to see AI output

## Documentation
- **README**: Full technical docs
- **Deployment Guide**: Step-by-step deployment
- **Summary**: Build overview and architecture
- **This File**: Quick reference

## Support Flow
1. Check Quick Reference (this file)
2. Check Deployment Guide for detailed steps
3. Check README for technical details
4. Review n8n execution history
5. Check AgentX/DataAPI logs

## Key Features
- Natural language to workflow JSON
- 15-node workflow with error handling
- Automatic validation and deployment
- Embedded templates and conventions
- DataAPI logging
- Comprehensive documentation

## Version
- Workflow: v1.0.0
- Persona: v1.0.0
- Date: 2026-01-02
