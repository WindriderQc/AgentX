<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgentX ‚Ä¢ Metrics</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<<<<<<< Updated upstream
  <div class="container">
    <header>
      <h1>üöÄ AgentX Metrics Dashboard</h1>
      <div class="header-actions">
        <a href="/" style="text-decoration: none;"><button>Chat</button></a>
        <a href="/analytics.html" style="text-decoration: none;"><button>Analytics</button></a>
        <a href="/metrics.html" style="text-decoration: none;"><button disabled>üìä Metrics</button></a>
        <a href="/dataapi.html" style="text-decoration: none;"><button>üß∞ Data Tools</button></a>
        <a href="/n8n-control.html" style="text-decoration: none;"><button>‚ö° n8n Ops</button></a>
        <button id="refreshBtn">üîÑ Refresh</button>
        <button id="clearCacheBtn">üóëÔ∏è Clear Cache</button>
        <button id="autoRefreshBtn">‚è±Ô∏è Auto (30s)</button>
=======
  <div class="bg-grid"></div>
  <div class="page metrics-page">
    <header class="hero">
      <div class="hero-content">
        <div class="hero-top">
          <div>
            <div class="eyebrow">GraphysX ‚Ä¢ Monitoring</div>
            <h1>System Metrics</h1>
            <p class="lede">
              Real-time performance stats for the AgentX backend, database, and Ollama connection.
            </p>
          </div>
          <div class="hero-actions">
            <nav class="agentx-nav"></nav>
            <div class="controls">
                <button id="refreshBtn" class="primary">Refresh</button>
                <button id="autoRefreshBtn" class="ghost">‚è±Ô∏è Auto (30s)</button>
                <button id="clearCacheBtn" class="ghost">üóëÔ∏è Clear Cache</button>
            </div>
          </div>
        </div>
>>>>>>> Stashed changes
      </div>
    </header>

    <main class="layout">
      <div id="errorContainer"></div>
      <div id="loading" class="loading">Loading metrics...</div>

      <div id="dashboard" style="display: none;">
        <!-- Metrics Grid injected by JS -->
      </div>

      <div class="timestamp" id="timestamp"></div>
    </main>
  </div>

  <style>
      /* Page-specific overrides to match previous layout logic but with new styling */
      .metrics-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
      }
      .metric-card {
          background: var(--panel);
          border: 1px solid var(--panel-border);
          padding: 24px;
          border-radius: var(--radius);
          box-shadow: var(--shadow);
      }
      .metric-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
      }
      .metric-icon { font-size: 24px; }
      .metric-title {
          font-size: 14px;
          color: var(--muted);
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-weight: 600;
      }
      .metric-value {
          font-size: 36px;
          font-weight: 700;
          color: var(--accent);
          margin-bottom: 8px;
          text-shadow: 0 0 20px rgba(124, 240, 255, 0.2);
      }
      .metric-label {
          font-size: 13px;
          color: var(--muted);
      }
      .status {
          display: inline-block;
          padding: 4px 10px;
          border-radius: 99px;
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
          margin-top: 10px;
      }
      .status.healthy { background: rgba(0, 255, 128, 0.1); color: #00ff80; border: 1px solid rgba(0, 255, 128, 0.2); }
      .status.warning { background: rgba(255, 200, 0, 0.1); color: #ffc800; border: 1px solid rgba(255, 200, 0, 0.2); }
      .status.error { background: rgba(255, 50, 50, 0.1); color: #ff3232; border: 1px solid rgba(255, 50, 50, 0.2); }

      .metric-detail {
          margin-top: 16px;
          padding-top: 16px;
          border-top: 1px solid var(--panel-border);
      }
      .detail-row {
          display: flex;
          justify-content: space-between;
          padding: 6px 0;
          font-size: 13px;
      }
      .detail-label { color: var(--muted); }
      .detail-value { color: var(--text); font-weight: 500; }

      .progress-bar {
          width: 100%;
          height: 6px;
          background: rgba(255,255,255,0.05);
          border-radius: 3px;
          overflow: hidden;
          margin-top: 12px;
      }
      .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, var(--accent), var(--accent-2));
          transition: width 0.3s ease;
      }

      .chart-section {
          background: var(--panel);
          border: 1px solid var(--panel-border);
          border-radius: var(--radius);
          padding: 24px;
          margin-top: 24px;
      }
      .chart-title { margin: 0 0 20px 0; font-size: 18px; }
      .loading { text-align: center; padding: 40px; color: var(--muted); }
      .timestamp { text-align: center; margin-top: 30px; color: var(--muted); font-size: 12px; opacity: 0.6; }
  </style>

  <script type="module">
    import { injectNav } from '/js/components/nav.js';
    injectNav('metrics');
  </script>
  <script src="/js/metrics.js"></script>
</body>
</html>
